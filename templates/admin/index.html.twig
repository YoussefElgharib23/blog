{% extends 'base.html.twig' %}

{% block title 'Admin page' %}

{% block body %}
    <style>
        @keyframes changeOpacityImg {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .img, img {
            opacity: 0;
            animation: changeOpacityImg;
            animation-delay: .5s;
            animation-duration: 2s;
            animation-fill-mode: forwards;
            transition: opacity .5s ease-in-out;
        }

        .actions-article-admin {
            transform: translateY(13px);
            opacity: 0;
            transition: opacity .2s ease-in-out, transform .4s ease-in-out;
            z-index: 1000;
        }
        .o-g {
            opacity: 0;
            transition: opacity .2s ease-in-out;
            position: absolute;
            background-image: linear-gradient(180Deg, #0000000f, #93939357);;
            z-index: 100;
            height: 100%;
        }

        #show-hide-f-js {
            background-color: #e2e2e2;
            padding: 5px;
            border-radius: 5px;
        }

        /* CATEGORY STYLE */
        .table td,
        .table th {
            vertical-align: middle;
            padding: 10px;
        }

        .btn {
            border: none;
        }

        #search-in-js, #search-in-post-js {
            border: none;
            border-bottom: 1px solid gray;
            background-color: inherit;
            width: 200px;
            position: absolute;
            padding-left: 20px;
            transition: border-color .2s ease-in-out, width .3s ease-in-out;
        }

        #search-in-js:focus, #search-in-post-js:focus {
            outline: none;
            border-color: #fe4f4f;
            width: 100%;
        }
    </style>
    <div class="container">
        {{ include('layouts/_dashboard_navbar.html.twig') }}
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <p class="mt-3">
                    <a href="#" id="show-hide-f-js" class="mt-2 link-c"><i class="fas fa-eye"></i> <span class="i-text-js"><span id="word-js">Show</span> create form</span></a>
                </p>
                <div class="row">
                    <div class="col-md-6 mx-auto">
                        <div class="h-c-p" style="display: none">
                            <h1 class="text-center mt-4">Create new post</h1>
                            {{ include('post/_create_form.html.twig') }}
                            <hr>
                        </div>
                    </div>
                </div>
                <div class="post-all mb-4">
                    {{ include('post/_all.html.twig') }}
                </div>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                <div class="row mb-4">
                    <div class="col-md-6 mx-auto">
                        <h1 class="text-center my-4">Create new category</h1>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            $(".article-image").mouseover(function(){
                $(this).find('.actions-article-admin').css({'opacity': '1', 'transform': 'translateY(0)'});
                $(this).find('.o-g').css({'opacity': '1'});
            }).mouseleave(function(){
                $(this).find('.actions-article-admin').css({'opacity': '0', 'transform': 'translateY(5px)'});
                $(this).find('.o-g').css({'opacity': '0'});
            });
        });

        $('#show-hide-f-js').click(function (event) {
            event.preventDefault();
            $('.h-c-p').slideToggle();
            $(this).find('span#word-js').text() === 'Hide' ? $(this).find('span#word-js').text('Show') : $(this).find('span#word-js').text('Hide') ;
        });

        $('*#btn-del-js').click(function (event) {
            event.preventDefault();
            $(this).parent().find('form').submit();
        });
    </script>
{% endblock %}