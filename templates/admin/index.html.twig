{% extends 'base.html.twig' %}

{% block title 'Admin page' %}

{% block body %}
    <div class="container">
        {{ include('layouts/_dashboard_navbar.html.twig') }}
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <p class="mt-3">
                    <a href="#" id="show-hide-f-js" class="mt-2 link-c"><i class="fas fa-eye"></i>
                        <span class="i-text-js"><span id="word-js">{{ posts | length > 0  ? 'Show' : 'Hide' }}</span> create form</span>
                        <i class="fa fa-angle-up" style="position: relative; top: 2px; transform: rotate({{ posts | length > 0 ? '180' : '0' }}deg)" ></i>
                    </a>
                </p>
                <div class="row">
                    <div class="col-md-6 mx-auto">
                        <div class="h-c-p" {{posts | length > 0 ? 'style="display: none"' : '' }}>
                            <h1 class="text-center mt-4">Create new post</h1>
                            {{ include('post/_create_form.html.twig') }}
                            <hr>
                        </div>
                    </div>
                </div>
                <div class="post-all mb-4">
                    {{ include('post/_all.html.twig') }}
                </div>
            </div>
            <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                <div class="row mb-4">
                    <div class="col-md-6 mx-auto">
                        <h1 class="text-center my-4">Create new category</h1>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            $(".article-image").mouseover(function(){
                $(this).find('.actions-article-admin').css({'opacity': '1', 'transform': 'translateY(0)'});
                $(this).find('.o-g').css({'opacity': '1'});
            }).mouseleave(function(){
                $(this).find('.actions-article-admin').css({'opacity': '0', 'transform': 'translateY(5px)'});
                $(this).find('.o-g').css({'opacity': '0'});
            });
        });

        $('#show-hide-f-js').click(function (event) {
            event.preventDefault();
            $('.h-c-p').slideToggle();
            if ($(this).find('span#word-js').text() === 'Hide')
            {
                $(this).find('span#word-js').text('Show');
                $(this).find('svg.fa-angle-up').css('transform', 'rotate(180deg)');
            }
            else {

                $(this).find('span#word-js').text('Hide');
                $(this).find('svg.fa-angle-up').css('transform', 'rotate(0)');
            }
        });

        $('*#btn-del-js').click(function (event) {
            event.preventDefault();
            $(this).parent().find('form').submit();
        });

        $('#search-in-post-js').focus(function () {
            $(this).parent().css('border-color', '#fe4f4f');
        });

    </script>
{% endblock %}