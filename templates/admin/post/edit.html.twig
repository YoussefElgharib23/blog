{% extends 'base.html.twig' %}

{% block title 'Edit post ' ~ post.slug %}

{% block body %}
    <style>
        img {
            transition: opacity .4s ease-in-out;
        }
    </style>
    {{ include('client/shared/_style.html.twig') }}
    <div class="container">
        <div class="row">
            <div class="col-md-6 mx-auto">
                <h1 class="mt-3 text-center">Edit post</h1>
                <h3 class="text-center text-muted">Image preview</h3>
                <img src={{ post.imageLink }}"" id="img-preview-js" alt="" class="rounded-lg img-fluid">
                <hr>
                {{ form_start(form) }}
                {{ form_widget(form) }}
                <input type="submit" value="Save post" class="btn btn-outline-success btn-block">
                {{ form_end(form) }}
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}

    <script>
        $('#post_form_imageLink').keyup(function () {
            console.log($(this).val());
            let imgElement = $('#img-preview-js');
            imgElement.css('opacity', '0');
            imgElement.css('opacity', '1');
            imgElement.attr('src', $(this).val().trim().toLowerCase());
        });
    </script>

{% endblock %}