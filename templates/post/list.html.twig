{% extends 'base.html.twig' %}

{% block title 'List posts' %}

{% block body %}
    {{ include('layouts/_dashboard_navbar.html.twig') }}
    <div class="container mt-4">
        {% if not posts | length > 0 and post is null %}
            <div class="alert alert-danger text-center" role="alert">Sorry ! No posts yet ! <br> You can create new one bu the following
                <a href="{{ path('app_post_create') }}" class="link-c" style="text-decoration: underline">link</a></div>
        {% else %}
            <div class="row">
                <div class="col-md-6">
                <span class="rounded overflow-hidden"
                      style="background-image: url('https://images.pexels.com/photos/5014775/pexels-photo-5014775.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940');
                      width: 100%; height: 320px; display: block; background-size: cover">
                    <span class="icon-edit-back"><a href="/edit"><i class="link-c edit-icon fa fa-pen-alt float-right text-white"></i></a></span>
                </span>
                </div>
                <div class="col-md-6 d-flex">
                    <div class="article-info w-100 mt-4">
                        <small><span style="color: #fe4f4f">CategoryPost</span> - {{ post.createdAt | date('M, d Y') }}</small>
                        <h1><a href="{{ path('app_post_show', {'id': post.id, 'slug': post.slug}) }}" class="link-c">{{ post.title }}</a></h1>
                        <p>{{ post.description }}</p>
                        <a href="" class="btn btn-outline-info btn-block">Read more</a>
                    </div>
                </div>
            </div>
            <hr>
            {% for row in posts | batch(4) %}
                <div class="row">
                    {% for post in row %}
                        <div class="col-sm-6 col-md-4 col-lg-3">
                            <img alt=""
                                 class="rounded img-fluid mw-100"
                                 src="https://images.pexels.com/photos/5014775/pexels-photo-5014775.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940">
                            <small><span style="color: #fe4f4f">CategoryPost</span> - {{ post.createdAt | date('M, d Y') }}</small>
                            <h2 class="h5"><a href="#" class="text-decoration-none text-dark">{{ post.title }}</a></h2>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="alert alert-danger text-center">No other posts !</div>
            {% endfor %}
            </div>
        {% endif %}

{% endblock %}